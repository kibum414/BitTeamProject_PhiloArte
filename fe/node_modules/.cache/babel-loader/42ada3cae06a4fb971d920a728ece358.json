{"ast":null,"code":"var _jsxFileName = \"/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/component/Register/ArtRegister.js\";\nimport React, { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom'; // DATA Files\n\nimport dataNavbar from \"webapp/common/data/Navbar/main-navbar-data.json\"; // Components\n\nimport { HeaderOne, FooterOne } from 'webapp/common';\nimport PageTitleArt from 'webapp/art/component/PageTitleArt';\nimport { getArtList, getArtRegister, getArtUpload } from 'webapp/art/reducer/art.reducer';\nimport 'webapp/art/style/Art.css';\n\nconst ArtRegister = ({\n  tagline,\n  title,\n  backfont,\n  dash,\n  textBtn,\n  classes\n}) => {\n  const [images, setImages] = useState([]);\n  const titleRef = useRef();\n  const categoryRef = useRef();\n  const descriptionRef = useRef();\n  const fileRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleUpload = e => {\n    const files = e.target.files;\n    console.log(files);\n    const fileURLs = [];\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        console.log(reader.result);\n        fileURLs[i] = reader.result;\n        setImages([...fileURLs]);\n      };\n\n      reader.readAsDataURL(file);\n    }\n  };\n\n  console.log(\"images\", images);\n\n  const ArtRegister = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    const input = {\n      title: titleRef.current.value,\n      category: {\n        categoryId: Number(categoryRef.current.value)\n      },\n      description: descriptionRef.current.value,\n      mainImg: \"http://www.yck.kr/_data/file/bbsData/86d2f471ffc196ee508845737375d38d.jpg\",\n      artist: {\n        artistId: 333\n      },\n      // 아티스트 정보 가져올 곳\n      resume: {\n        resumeId: 100\n      } // 레쥬메 정보 가져올 곳\n\n    };\n    const blob = new Blob([JSON.stringify(input)], {\n      type: 'application/json'\n    });\n    formData.append(\"input\", blob);\n    const files = fileRef.current.files;\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append(\"files\", files[i]);\n    }\n\n    dispatch(getArtRegister(formData)); // history.push('/art')\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeaderOne, {\n    data: dataNavbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageTitleArt, {\n    title: \"\\uC791\\uD488 \\uB4F1\\uB85D\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"pt-0 pb-0 transition-none \" + classes,\n    id: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80\",\n    style: {\n      float: \"left\",\n      margin: \"0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"art-register-form\",\n    id: \"art-register-form\",\n    method: \"POST\",\n    className: \"contact-form-style-02\",\n    onSubmit: ArtRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"\\uC791\\uD488\\uBA85\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    className: \"md-input style-02 input_white\",\n    id: \"title\",\n    required: true,\n    \"data-error\": \"\\uC791\\uD488\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    ref: titleRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), /*#__PURE__*/React.createElement(\"select\", {\n    type: \"number\",\n    name: \"category\",\n    className: \"md-input style-02 sel_arrow input_white\",\n    id: \"category\",\n    required: true,\n    \"data-error\": \"\\uCE74\\uD14C\\uACE0\\uB9AC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\",\n    ref: categoryRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 23\n    }\n  }, \"\\uC608\\uC220\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, \"\\uC0AC\\uC9C4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, \"\\uC5F0\\uADF9\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"\\uC124\\uBA85\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"description\",\n    className: \"md-textarea style-02 input_white\",\n    id: \"description\",\n    rows: \"7\",\n    required: true,\n    \"data-error\": \"\\uC791\\uD488\\uC5D0 \\uB300\\uD55C \\uC124\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    ref: descriptionRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"message\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, \"\\uD30C\\uC77C \\uCCA8\\uBD80\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"files\",\n    accept: \"image/*\",\n    className: \"md-input style-02 input_white\",\n    id: \"files\",\n    multiple: true,\n    \"data-error\": \"\\uC791\\uD488 \\uD30C\\uC77C\\uC744 \\uCCA8\\uBD80\\uD574\\uC8FC\\uC138\\uC694.\",\n    ref: fileRef,\n    onChange: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }), images.map((image, i) => /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-xl btn-color btn-square remove-margin\",\n    style: {\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, textBtn || \"등록하기\")))))))), /*#__PURE__*/React.createElement(FooterOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ArtRegister;","map":{"version":3,"sources":["/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/component/Register/ArtRegister.js"],"names":["React","useRef","useState","useDispatch","useHistory","dataNavbar","HeaderOne","FooterOne","PageTitleArt","getArtList","getArtRegister","getArtUpload","ArtRegister","tagline","title","backfont","dash","textBtn","classes","images","setImages","titleRef","categoryRef","descriptionRef","fileRef","dispatch","history","handleUpload","e","files","target","console","log","fileURLs","i","length","file","reader","FileReader","onload","result","readAsDataURL","preventDefault","formData","FormData","input","current","value","category","categoryId","Number","description","mainImg","artist","artistId","resume","resumeId","blob","Blob","JSON","stringify","type","append","float","margin","map","image","width"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n// DATA Files\nimport dataNavbar from \"webapp/common/data/Navbar/main-navbar-data.json\";\n// Components\nimport { HeaderOne, FooterOne } from 'webapp/common';\nimport PageTitleArt from 'webapp/art/component/PageTitleArt';\nimport { getArtList, getArtRegister, getArtUpload } from 'webapp/art/reducer/art.reducer';\n\nimport 'webapp/art/style/Art.css'\n\nconst ArtRegister = ({ tagline, title, backfont, dash, textBtn, classes }) => {\n\n  const [images, setImages] = useState([])\n\n  const titleRef = useRef()\n  const categoryRef = useRef()\n  const descriptionRef = useRef()\n  const fileRef = useRef()\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleUpload = e => {\n    const files = e.target.files\nconsole.log(files)\n    const fileURLs = []\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        console.log(reader.result)\n\n        fileURLs[i] = reader.result\n\n        setImages([...fileURLs])\n      }\n      reader.readAsDataURL(file);\n    }\n  }\n\n  console.log(\"images\",images)\n\n  const ArtRegister = e => {\n    e.preventDefault()\n\n    const formData = new FormData()\n\n    const input = {\n      title: titleRef.current.value,\n      category: { categoryId: Number(categoryRef.current.value) },\n      description: descriptionRef.current.value,\n      mainImg: \"http://www.yck.kr/_data/file/bbsData/86d2f471ffc196ee508845737375d38d.jpg\",\n      artist: { artistId: 333 }, // 아티스트 정보 가져올 곳\n      resume: { resumeId: 100 }, // 레쥬메 정보 가져올 곳\n    }\n    \n    const blob = new Blob([JSON.stringify(input)], {\n      type: 'application/json'\n    });\n\n    formData.append(\"input\", blob)\n\n    const files = fileRef.current.files\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append(\"files\", files[i])\n    }\n\n    dispatch(getArtRegister(formData))\n\n    // history.push('/art')\n  }\n\n  return (\n    <>\n      <HeaderOne data={dataNavbar} />\n      <PageTitleArt title=\"작품 등록\" />\n\n      <section\n        className={\"pt-0 pb-0 transition-none \" + classes}\n        id=\"contact\"\n      >\n        <div className=\"container-fluid\">\n          <div className=\"pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80\" style={{ float: \"left\", margin: \"0 auto\" }}>\n\n            <form\n              name=\"art-register-form\"\n              id=\"art-register-form\"\n              method=\"POST\"\n              className=\"contact-form-style-02\"\n              onSubmit={ArtRegister}\n            >\n              <div className=\"messages\"></div>\n              <div className=\"row\">\n                <div className=\"col-md-5 col-sm-7\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"title\" className=\"dark-color\">\n                      작품명\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"title\"\n                      className=\"md-input style-02 input_white\"\n                      id=\"title\"\n                      required\n                      data-error=\"작품명을 입력하세요.\"\n                      ref={titleRef}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-md-5 col-sm-7\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"category\" className=\"dark-color\">\n                      카테고리\n                    </label>\n                    <select\n                      type=\"number\"\n                      name=\"category\"\n                      className=\"md-input style-02 sel_arrow input_white\"\n                      id=\"category\"\n                      required\n                      data-error=\"카테고리를 선택해주세요.\"\n                      ref={categoryRef}\n                    >\n                      <option>카테고리</option>\n                      <option value=\"1\">예술</option>\n                      <option value=\"2\">사진</option>\n                      <option value=\"3\">연극</option>\n                    </select>\n                  </div>\n                </div>\n                <div className=\"col-md-5 col-sm-7\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"description\" className=\"dark-color\">\n                      설명\n                    </label>\n                    <textarea\n                      name=\"description\"\n                      className=\"md-textarea style-02 input_white\"\n                      id=\"description\"\n                      rows=\"7\"\n                      required\n                      data-error=\"작품에 대한 설명을 입력해주세요.\"\n                      ref={descriptionRef}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-md-5 col-sm-7\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"message\" className=\"dark-color\">\n                      파일 첨부\n                  </label>\n                    <input\n                      type=\"file\"\n                      name=\"files\"\n                      accept=\"image/*\"\n                      className=\"md-input style-02 input_white\"\n                      id=\"files\"\n                      multiple={true}\n                      data-error=\"작품 파일을 첨부해주세요.\"\n                      ref={fileRef}\n                      onChange={handleUpload}\n                    />\n                    {\n                      images.map((image, i) => (\n                        <img src={image} alt=\"\"></img>\n                      ))\n                    }\n                  </div>\n                </div>\n                <div className=\"col-md-5 col-sm-7\">\n                  <div className=\"text-center mt-20\">\n                    <button\n                      type=\"submit\"\n                      name=\"submit\"\n                      className=\"btn btn-xl btn-color btn-square remove-margin\"\n                      style={{ width: \"50%\" }}\n                    >\n                      {textBtn || \"등록하기\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n\n      <FooterOne />\n    </>\n  )\n}\n\nexport default ArtRegister"]},"metadata":{},"sourceType":"module"}