{"ast":null,"code":"var _jsxFileName = \"/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/component/Register/ArtRegister.js\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom'; // DATA Files\n\nimport dataNavbar from \"webapp/common/data/Navbar/main-navbar-data.json\"; // Components\n\nimport { HeaderOne, FooterOne } from 'webapp/common';\nimport PageTitleArt from 'webapp/art/component/PageTitleArt';\nimport { getArtList, getArtRegister, getArtUpload } from 'webapp/art/reducer/art.reducer';\nimport 'webapp/art/style/Art.css';\n\nconst ArtRegister = ({\n  tagline,\n  title,\n  backfont,\n  dash,\n  textBtn,\n  classes\n}) => {\n  const [count, setCount] = useState();\n  const [image, setImage] = useState([]);\n  const titleRef = useRef();\n  const categoryRef = useRef();\n  const descriptionRef = useRef();\n  const fileRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleUpload = e => {\n    const files = e.target.files;\n    setCount(files.length);\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = e => {\n        setImage(...image, e.target.result);\n      };\n    }\n  };\n\n  const ArtRegister = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    const input = {\n      title: titleRef.current.value,\n      category: {\n        categoryId: Number(categoryRef.current.value)\n      },\n      description: descriptionRef.current.value,\n      mainImg: \"http://www.yck.kr/_data/file/bbsData/86d2f471ffc196ee508845737375d38d.jpg\",\n      artist: {\n        artistId: 333\n      },\n      // 아티스트 정보 가져올 곳\n      resume: {\n        resumeId: 100\n      } // 레쥬메 정보 가져올 곳\n\n    };\n    const blob = new Blob([JSON.stringify(input)], {\n      type: 'application/json'\n    });\n    formData.append(\"input\", blob);\n    const files = fileRef.current.files;\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append(\"files\", files[i]);\n    }\n\n    dispatch(getArtRegister(formData)); // history.push('/art')\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeaderOne, {\n    data: dataNavbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageTitleArt, {\n    title: \"\\uC791\\uD488 \\uB4F1\\uB85D\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"pt-0 pb-0 transition-none \" + classes,\n    id: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7 pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80\",\n    style: {\n      float: \"none\",\n      margin: \"0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"art-register-form\",\n    id: \"art-register-form\",\n    method: \"POST\",\n    className: \"contact-form-style-02\",\n    onSubmit: ArtRegister,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"\\uC791\\uD488\\uBA85\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    className: \"md-input style-02 input_white\",\n    id: \"title\",\n    required: true,\n    \"data-error\": \"\\uC791\\uD488\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    ref: titleRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), /*#__PURE__*/React.createElement(\"select\", {\n    type: \"number\",\n    name: \"category\",\n    className: \"md-input style-02 sel_arrow input_white\",\n    id: \"category\",\n    required: true,\n    \"data-error\": \"\\uCE74\\uD14C\\uACE0\\uB9AC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\",\n    ref: categoryRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 23\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 23\n    }\n  }, \"\\uC608\\uC220\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 23\n    }\n  }, \"\\uC0AC\\uC9C4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }\n  }, \"\\uC5F0\\uADF9\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, \"\\uC124\\uBA85\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"description\",\n    className: \"md-textarea style-02 input_white\",\n    id: \"description\",\n    rows: \"7\",\n    required: true,\n    \"data-error\": \"\\uC791\\uD488\\uC5D0 \\uB300\\uD55C \\uC124\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    ref: descriptionRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"message\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"\\uD30C\\uC77C \\uCCA8\\uBD80\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"art\",\n    accept: \"image/*\",\n    className: \"md-input style-02 input_white\",\n    id: \"art\",\n    multiple: true,\n    \"data-error\": \"\\uC791\\uD488 \\uD30C\\uC77C\\uC744 \\uCCA8\\uBD80\\uD574\\uC8FC\\uC138\\uC694.\",\n    ref: fileRef,\n    onChange: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: image[1],\n    alt: \"\",\n    style: {\n      position: \"relative\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-xl btn-color btn-square remove-margin\",\n    style: {\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, textBtn || \"등록하기\")))))))), /*#__PURE__*/React.createElement(FooterOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ArtRegister;","map":{"version":3,"sources":["/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/component/Register/ArtRegister.js"],"names":["React","useCallback","useRef","useState","useDispatch","useHistory","dataNavbar","HeaderOne","FooterOne","PageTitleArt","getArtList","getArtRegister","getArtUpload","ArtRegister","tagline","title","backfont","dash","textBtn","classes","count","setCount","image","setImage","titleRef","categoryRef","descriptionRef","fileRef","dispatch","history","handleUpload","e","files","target","length","i","file","reader","FileReader","readAsDataURL","onload","result","preventDefault","formData","FormData","input","current","value","category","categoryId","Number","description","mainImg","artist","artistId","resume","resumeId","blob","Blob","JSON","stringify","type","append","float","margin","position","width"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n// DATA Files\nimport dataNavbar from \"webapp/common/data/Navbar/main-navbar-data.json\";\n// Components\nimport { HeaderOne, FooterOne } from 'webapp/common';\nimport PageTitleArt from 'webapp/art/component/PageTitleArt';\nimport { getArtList, getArtRegister, getArtUpload } from 'webapp/art/reducer/art.reducer';\n\nimport 'webapp/art/style/Art.css'\n\nconst ArtRegister = ({ tagline, title, backfont, dash, textBtn, classes }) => {\n\n  const [count, setCount] = useState()\n  const [image, setImage] = useState([])\n\n  const titleRef = useRef()\n  const categoryRef = useRef()\n  const descriptionRef = useRef()\n  const fileRef = useRef()\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleUpload = e => {\n    const files = e.target.files\n    setCount(files.length)\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      const reader = new FileReader();\n\n      reader.readAsDataURL(file);\n      reader.onload = e => {\n        setImage(...image, e.target.result)\n      }\n    }\n  }\n\n  const ArtRegister = e => {\n    e.preventDefault()\n\n    const formData = new FormData()\n\n    const input = {\n      title: titleRef.current.value,\n      category: { categoryId: Number(categoryRef.current.value) },\n      description: descriptionRef.current.value,\n      mainImg: \"http://www.yck.kr/_data/file/bbsData/86d2f471ffc196ee508845737375d38d.jpg\",\n      artist: { artistId: 333 }, // 아티스트 정보 가져올 곳\n      resume: { resumeId: 100 }, // 레쥬메 정보 가져올 곳\n    }\n    \n    const blob = new Blob([JSON.stringify(input)], {\n      type: 'application/json'\n    });\n\n    formData.append(\"input\", blob)\n\n    const files = fileRef.current.files\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append(\"files\", files[i])\n    }\n\n    dispatch(getArtRegister(formData))\n\n    // history.push('/art')\n  }\n\n  return (\n    <>\n      <HeaderOne data={dataNavbar} />\n      <PageTitleArt title=\"작품 등록\" />\n\n      <section\n        className={\"pt-0 pb-0 transition-none \" + classes}\n        id=\"contact\"\n      >\n        <div className=\"container-fluid\">\n          <div className=\"col-md-5 col-sm-7 pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80\" style={{ float: \"none\", margin: \"0 auto\" }}>\n\n            <form\n              name=\"art-register-form\"\n              id=\"art-register-form\"\n              method=\"POST\"\n              className=\"contact-form-style-02\"\n              onSubmit={ArtRegister}\n            >\n              <div className=\"messages\"></div>\n              <div className=\"row\">\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"title\" className=\"dark-color\">\n                      작품명\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"title\"\n                      className=\"md-input style-02 input_white\"\n                      id=\"title\"\n                      required\n                      data-error=\"작품명을 입력하세요.\"\n                      ref={titleRef}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"category\" className=\"dark-color\">\n                      카테고리\n                    </label>\n                    <select\n                      type=\"number\"\n                      name=\"category\"\n                      className=\"md-input style-02 sel_arrow input_white\"\n                      id=\"category\"\n                      required\n                      data-error=\"카테고리를 선택해주세요.\"\n                      ref={categoryRef}\n                    >\n                      <option>카테고리</option>\n                      <option value=\"1\">예술</option>\n                      <option value=\"2\">사진</option>\n                      <option value=\"3\">연극</option>\n                    </select>\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"description\" className=\"dark-color\">\n                      설명\n                    </label>\n                    <textarea\n                      name=\"description\"\n                      className=\"md-textarea style-02 input_white\"\n                      id=\"description\"\n                      rows=\"7\"\n                      required\n                      data-error=\"작품에 대한 설명을 입력해주세요.\"\n                      ref={descriptionRef}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"message\" className=\"dark-color\">\n                      파일 첨부\n                  </label>\n                    <input\n                      type=\"file\"\n                      name=\"art\"\n                      accept=\"image/*\"\n                      className=\"md-input style-02 input_white\"\n                      id=\"art\"\n                      multiple={true}\n                      data-error=\"작품 파일을 첨부해주세요.\"\n                      ref={fileRef}\n                      onChange={handleUpload}\n                    />\n                    {\n                      <img src={image[1]} alt=\"\" style={{ position: \"relative\" }}></img>\n                    }\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"text-center mt-20\">\n                    <button\n                      type=\"submit\"\n                      name=\"submit\"\n                      className=\"btn btn-xl btn-color btn-square remove-margin\"\n                      style={{ width: \"50%\" }}\n                    >\n                      {textBtn || \"등록하기\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n\n      <FooterOne />\n    </>\n  )\n}\n\nexport default ArtRegister"]},"metadata":{},"sourceType":"module"}