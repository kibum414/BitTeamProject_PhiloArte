{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { ArtService } from 'webapp/art';\nexport const getArtList = createAsyncThunk(\"ART_LIST\", async page => {\n  console.log(\"getArtList\", page);\n  const response = await ArtService.artList(page);\n  return response.data;\n});\nexport const getArtRegister = createAsyncThunk(\"ART_REGISTER\", async args => {\n  console.log(args);\n  const response = await ArtService.artRegister(args);\n  return response.data;\n});\nexport const getArtUpload = createAsyncThunk(\"ART_UPLOAD\", async args => {\n  console.log('UPLOAD : ' + JSON.stringify(args));\n  const response = await ArtService.artUpload(args);\n  return response.data;\n});\nexport const getArtRead = createAsyncThunk(\"ART_READ\", async args => {\n  const response = await ArtService.artRead(args);\n  return response.data;\n});\nexport const getArtModify = createAsyncThunk(\"ART_MODIFY\", async args => {\n  console.log(args);\n  const response = await ArtService.artModify(args);\n  return response.data;\n});\nexport const getArtDelete = createAsyncThunk(\"ART_DELETE\", async args => {\n  console.log(\"delete\", args);\n  const response = await ArtService.artDelete(args);\n  return response.data;\n});\nexport const getArtSearch = createAsyncThunk(\"ART_SEARCH\", async args => {\n  const response = await ArtService.artSearch(args);\n  return response.data;\n});\nexport const getCategoryList = createAsyncThunk(\"CATEGORY_LIST\", async () => {\n  const response = await ArtService.categoryList();\n  return response.data;\n});\n\nconst isRejectedAction = action => action.type.endsWith('rejected');\n\nconst artSlice = createSlice({\n  name: 'arts',\n  initialState: {\n    pageResult: {\n      dtoList: [],\n      page: 1,\n      pageList: [],\n      start: 1,\n      end: 1,\n      prev: false,\n      next: false\n    },\n    fileList: [],\n    type: '',\n    keyword: '',\n    category: []\n  },\n  reducers: {\n    changeSearch: (state, {\n      payload\n    }) => {\n      state.type = payload.type;\n      state.keyword = payload.keyword;\n    },\n    addFileList: (state, {\n      payload\n    }) => {\n      state.fileList.push(payload);\n    },\n    changeFileList: (state, {\n      payload\n    }) => {\n      var _state$fileList;\n\n      const idx = (_state$fileList = state.fileList) === null || _state$fileList === void 0 ? void 0 : _state$fileList.findIndex(file => file.uuid === payload.uuid);\n      state.fileList[idx].file = payload.file;\n    },\n    deleteFileList: (state, {\n      payload\n    }) => {\n      state.fileList = state.fileList.filter(file => file.uuid !== payload.uuid);\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getArtList.fulfilled, (state, {\n      payload\n    }) => {\n      state.pageResult = payload;\n      console.log(state.pageResult);\n    }).addCase(getArtRegister.fulfilled, (state, {\n      payload\n    }) => {\n      alert(`${payload}번 게시물 등록 완료 !`);\n    }).addCase(getArtUpload.fulfilled, (state, {\n      payload\n    }) => {\n      alert(`${payload[0]} 파일 등록 완료 !`);\n    }).addCase(getArtRead.fulfilled, (state, {\n      payload\n    }) => {\n      state.current = payload;\n      state.fileList = payload.files;\n      console.log(`바바바: ` + JSON.stringify(state.current));\n    }).addCase(getArtModify.fulfilled, (state, {\n      payload\n    }) => {\n      return state.findIndex(art => art.artId === payload);\n    }).addCase(getArtDelete.fulfilled, (state, {\n      payload\n    }) => {}).addCase(getArtSearch.fulfilled, (state, {\n      payload\n    }) => {\n      state.pageResult = payload;\n    }).addCase(getCategoryList.fulfilled, (state, {\n      payload\n    }) => {\n      state.category = payload;\n    }).addMatcher(isRejectedAction).addDefaultCase().addDefaultCase((state, payload) => {});\n  }\n});\nconst {\n  actions,\n  reducer\n} = artSlice;\nexport const {\n  changeSearch,\n  addFileList,\n  changeFileList,\n  deleteFileList\n} = actions;\nexport default reducer;","map":{"version":3,"sources":["/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/reducer/art.reducer.js"],"names":["createAsyncThunk","createSlice","ArtService","getArtList","page","console","log","response","artList","data","getArtRegister","args","artRegister","getArtUpload","JSON","stringify","artUpload","getArtRead","artRead","getArtModify","artModify","getArtDelete","artDelete","getArtSearch","artSearch","getCategoryList","categoryList","isRejectedAction","action","type","endsWith","artSlice","name","initialState","pageResult","dtoList","pageList","start","end","prev","next","fileList","keyword","category","reducers","changeSearch","state","payload","addFileList","push","changeFileList","idx","findIndex","file","uuid","deleteFileList","filter","extraReducers","builder","addCase","fulfilled","alert","current","files","art","artId","addMatcher","addDefaultCase","actions","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { ArtService } from 'webapp/art'\n\nexport const getArtList = createAsyncThunk(\"ART_LIST\",\n  async (page) => {\n    console.log(\"getArtList\", page)\n    const response = await ArtService.artList(page)\n\n    return response.data\n  }\n)\n\nexport const getArtRegister = createAsyncThunk(\"ART_REGISTER\",\n  async (args) => {\n    console.log(args)\n    const response = await ArtService.artRegister(args)\n\n    return response.data\n  }\n)\n\nexport const getArtUpload = createAsyncThunk(\"ART_UPLOAD\",\n  async (args) => {\n    console.log('UPLOAD : ' + JSON.stringify(args))\n    const response = await ArtService.artUpload(args)\n\n    return response.data\n  }\n)\n\nexport const getArtRead = createAsyncThunk(\"ART_READ\",\n  async (args) => {\n    const response = await ArtService.artRead(args)\n\n    return response.data\n  }\n)\n\nexport const getArtModify = createAsyncThunk(\"ART_MODIFY\",\n  async (args) => {\n    console.log(args)\n    const response = await ArtService.artModify(args)\n\n    return response.data\n  }\n)\n\nexport const getArtDelete = createAsyncThunk(\"ART_DELETE\",\n  async (args) => {\n    console.log(\"delete\", args)\n    const response = await ArtService.artDelete(args)\n\n    return response.data\n  }\n)\n\nexport const getArtSearch = createAsyncThunk(\"ART_SEARCH\",\n  async (args) => {\n    const response = await ArtService.artSearch(args)\n\n    return response.data\n  }\n)\n\nexport const getCategoryList = createAsyncThunk(\"CATEGORY_LIST\",\n  async () => {\n  const response = await ArtService.categoryList()\n\n  return response.data\n})\n\nconst isRejectedAction = action => (action.type.endsWith('rejected'))\n\nconst artSlice = createSlice({\n  name: 'arts',\n  initialState: {\n    pageResult: {\n      dtoList: [],\n      page: 1,\n      pageList: [],\n      start: 1,\n      end: 1,\n      prev: false,\n      next: false\n    },\n    fileList: [],\n    type: '',\n    keyword: '',\n    category: [],\n    \n  },\n  reducers: {\n    changeSearch: (state, { payload }) => {\n      state.type = payload.type\n      state.keyword = payload.keyword\n    },\n    addFileList: (state, { payload }) => {\n      state.fileList.push(payload)\n    },\n    changeFileList: (state, { payload }) => {\n      const idx = state.fileList?.findIndex(file => file.uuid === payload.uuid)\n\n      state.fileList[idx].file = payload.file\n    },\n    deleteFileList: (state, { payload }) => {\n      state.fileList = state.fileList.filter(file => file.uuid !== payload.uuid)\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(getArtList.fulfilled, (state, { payload }) => {\n        state.pageResult = payload\n        console.log(state.pageResult)\n      })\n      .addCase(getArtRegister.fulfilled, (state, { payload }) => {\n        alert(`${payload}번 게시물 등록 완료 !`)\n      })\n      .addCase(getArtUpload.fulfilled, (state, { payload }) => {\n        alert(`${payload[0]} 파일 등록 완료 !`)\n      })\n      .addCase(getArtRead.fulfilled, (state, { payload }) => {\n        state.current = payload\n        state.fileList = payload.files\n        console.log(`바바바: ` + JSON.stringify(state.current))\n      })\n      .addCase(getArtModify.fulfilled, (state, { payload }) => {\n        return state.findIndex(art => art.artId === payload)\n      })\n      .addCase(getArtDelete.fulfilled, (state, { payload }) => {\n\n      })\n      .addCase(getArtSearch.fulfilled, (state, { payload }) => {\n        state.pageResult = payload\n      })\n      .addCase(getCategoryList.fulfilled, (state, { payload }) => {\n        state.category = payload\n      })\n      .addMatcher(isRejectedAction).addDefaultCase()\n      .addDefaultCase((state, payload) => { })\n  }\n})\n\nconst { actions, reducer } = artSlice\nexport const { changeSearch, addFileList, changeFileList, deleteFileList } = actions\nexport default reducer\n"]},"metadata":{},"sourceType":"module"}