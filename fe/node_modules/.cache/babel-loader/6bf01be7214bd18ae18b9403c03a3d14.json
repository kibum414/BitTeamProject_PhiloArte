{"ast":null,"code":"var _jsxFileName = \"/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/component/Modify/ArtModify.js\";\nimport React, { useCallback, useEffect, useRef, useState } from 'react'; // DATA Files\n\nimport dataNavbar from \"webapp/common/data/Navbar/main-navbar-data.json\"; // Components\n\nimport { HeaderOne, FooterOne } from 'webapp/common';\nimport PageTitleArt from 'webapp/art/component/PageTitleArt';\nimport 'webapp/art/style/Art.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ArtUpload from '../Register/ArtUpload';\nimport { getArtModify, getArtRead, getCategoryList } from 'webapp/art/reducer/art.reducer';\nimport { useParams } from 'react-router';\nimport ModifyFile from './ModifyFile';\nimport ModifyUpload from './ModifyUpload';\n\nconst ArtModify = ({\n  tagline,\n  title,\n  backfont,\n  dash,\n  textBtn,\n  classes\n}) => {\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  const art = useSelector(state => state.arts.current);\n  const fileList = useSelector(state => state.arts.fileList);\n  const categories = useSelector(state => state.arts.category);\n  const [input, setInput] = useState({\n    title: art.title,\n    category: {\n      categoryId: art.category.categoryId\n    },\n    description: art.description,\n    artist: art.artist,\n    resume: art.resume\n  });\n  useEffect(() => {\n    dispatch(getArtRead(id));\n    dispatch(getCategoryList());\n  }, []);\n  console.log(categories);\n  console.log(\"art\", art);\n  console.log(\"fileList\", fileList);\n  console.log(\"files\", art.files);\n\n  const handleChange = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    input[e.target.name] = e.target.value;\n    setInput({ ...input\n    });\n  };\n\n  const categoryChange = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    console.log(e.target.value);\n    input.category.categoryId = Number(e.target.value);\n    setInput({ ...input\n    });\n  };\n\n  const ArtModify = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    console.log(\"fileList\", fileList);\n    const data = { ...input,\n      files: fileList.map(i => i.file)\n    };\n    dispatch(getArtModify(data));\n  };\n\n  console.log(input);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeaderOne, {\n    data: dataNavbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageTitleArt, {\n    title: \"\\uC791\\uD488 \\uC218\\uC815\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"pt-0 pb-0 transition-none \" + classes,\n    id: \"contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-sm-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ModifyUpload, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), art === null || art === void 0 ? void 0 : art.files.map(fileObj => {\n    console.log(\"fileObj\", fileObj);\n    return /*#__PURE__*/React.createElement(ModifyFile, Object.assign({\n      key: fileObj.uuid\n    }, fileObj, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 col-sm-7 pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"art-modify-form\",\n    id: \"art-modify-form\",\n    method: \"POST\",\n    className: \"contact-form-style-02\",\n    onSubmit: ArtModify,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, \"\\uC791\\uD488\\uBA85\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    className: \"md-input style-02 input_white\",\n    id: \"title\",\n    required: true,\n    \"data-error\": \"\\uC791\\uD488\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n    value: input.title,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), /*#__PURE__*/React.createElement(\"select\", {\n    type: \"number\",\n    name: \"category\",\n    className: \"md-input style-02 sel_arrow input_white\",\n    id: \"category\",\n    required: true,\n    \"data-error\": \"\\uCE74\\uD14C\\uACE0\\uB9AC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\",\n    onChange: e => categoryChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: art.category.categoryId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }, art.category.categoryName), categories.filter(category => category.categoryId !== art.category.categoryId).map(category => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: category.categoryId,\n      value: category.categoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 27\n      }\n    }, category.categoryName);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    className: \"dark-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"\\uC124\\uBA85\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"description\",\n    className: \"md-textarea style-02 input_white\",\n    id: \"description\",\n    rows: \"7\",\n    required: true,\n    \"data-error\": \"\\uC791\\uD488\\uC5D0 \\uB300\\uD55C \\uC124\\uBA85\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    value: input.description,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-xl btn-color btn-square remove-margin\",\n    style: {\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, \"\\uC218\\uC815\\uD558\\uAE30\")))))))), /*#__PURE__*/React.createElement(FooterOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ArtModify;","map":{"version":3,"sources":["/Users/superstar_pkb/project/BitCamp Team Project V2/fe/src/webapp/art/component/Modify/ArtModify.js"],"names":["React","useCallback","useEffect","useRef","useState","dataNavbar","HeaderOne","FooterOne","PageTitleArt","useDispatch","useSelector","ArtUpload","getArtModify","getArtRead","getCategoryList","useParams","ModifyFile","ModifyUpload","ArtModify","tagline","title","backfont","dash","textBtn","classes","dispatch","id","art","state","arts","current","fileList","categories","category","input","setInput","categoryId","description","artist","resume","console","log","files","handleChange","e","stopPropagation","preventDefault","target","name","value","categoryChange","Number","data","map","i","file","fileObj","uuid","categoryName","filter","width"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react'\n// DATA Files\nimport dataNavbar from \"webapp/common/data/Navbar/main-navbar-data.json\";\n// Components\nimport { HeaderOne, FooterOne } from 'webapp/common'\nimport PageTitleArt from 'webapp/art/component/PageTitleArt';\n\nimport 'webapp/art/style/Art.css'\nimport { useDispatch, useSelector } from 'react-redux';\nimport ArtUpload from '../Register/ArtUpload';\nimport { getArtModify, getArtRead, getCategoryList } from 'webapp/art/reducer/art.reducer';\nimport { useParams } from 'react-router';\nimport ModifyFile from './ModifyFile';\nimport ModifyUpload from './ModifyUpload';\n\nconst ArtModify = ({ tagline, title, backfont, dash, textBtn, classes }) => {\n\n  const dispatch = useDispatch()\n\n  const { id } = useParams()\n\n  const art = useSelector(state => state.arts.current)\n  const fileList = useSelector(state => state.arts.fileList)\n  const categories = useSelector(state => state.arts.category)\n\n  const [input, setInput] = useState({\n    title: art.title,\n    category: { categoryId: art.category.categoryId },\n    description: art.description,\n    artist: art.artist,\n    resume: art.resume,\n  })\n\n  useEffect(() => {\n    dispatch(getArtRead(id))\n    dispatch(getCategoryList())\n  }, [])\n\n  console.log(categories)\n\n  console.log(\"art\", art)\n  console.log(\"fileList\", fileList)\n  console.log(\"files\", art.files)\n\n  const handleChange = e => {\n    e.stopPropagation()\n    e.preventDefault()\n\n    input[e.target.name] = e.target.value\n    setInput({ ...input })\n  }\n\n  const categoryChange = e => {\n    e.stopPropagation()\n    e.preventDefault()\n\n    console.log(e.target.value)\n\n    input.category.categoryId = Number(e.target.value)\n    setInput({ ...input })\n  }\n\n  const ArtModify = e => {\n    e.stopPropagation()\n    e.preventDefault()\n\n    console.log(\"fileList\", fileList)\n\n    const data = {...input, files: fileList.map(i => i.file)}\n    dispatch(getArtModify(data))\n  }\n  console.log(input)\n\n  return (\n    <>\n      <HeaderOne data={dataNavbar} />\n      <PageTitleArt title=\"작품 수정\" />\n\n      <section\n        className={\"pt-0 pb-0 transition-none \" + classes}\n        id=\"contact\"\n      >\n        <div className=\"col-md-6 col-sm-4 \">\n          <div className=\"pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80 \">\n            <ModifyUpload />\n            \n            {art?.files.map(fileObj => {\n              console.log(\"fileObj\", fileObj)\n              return (\n                <ModifyFile key={fileObj.uuid} {...fileObj} />\n              )\n            })}\n          </div>\n        </div>\n        <div className=\"container-fluid\">\n          <div className=\"col-md-5 col-sm-7 pt-50 pb-70 pl-70 pr-70 xs-pt-20 xs-pb-80\">\n            <form\n              name=\"art-modify-form\"\n              id=\"art-modify-form\"\n              method=\"POST\"\n              className=\"contact-form-style-02\"\n              onSubmit={ArtModify}\n            >\n              <div className=\"messages\"></div>\n              <div className=\"row\">\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"title\" className=\"dark-color\">\n                      작품명\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"title\"\n                      className=\"md-input style-02 input_white\"\n                      id=\"title\"\n                      required\n                      data-error=\"작품명을 입력하세요.\"\n                      value={input.title}\n                      onChange={e => handleChange(e)}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"category\" className=\"dark-color\">\n                      카테고리\n                    </label>\n                    <select\n                      type=\"number\"\n                      name=\"category\"\n                      className=\"md-input style-02 sel_arrow input_white\"\n                      id=\"category\"\n                      required\n                      data-error=\"카테고리를 선택해주세요.\"\n                      onChange={e => categoryChange(e)}\n                    >\n                      <option value={art.category.categoryId}>{art.category.categoryName}</option>\n                      {categories.filter(category => category.categoryId !== art.category.categoryId).map(category => {\n                        return (\n                          <option key={category.categoryId} value={category.categoryId}>{category.categoryName}</option>\n                        )\n                      })}\n                    </select>\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"description\" className=\"dark-color\">\n                      설명\n                    </label>\n                    <textarea\n                      name=\"description\"\n                      className=\"md-textarea style-02 input_white\"\n                      id=\"description\"\n                      rows=\"7\"\n                      required\n                      data-error=\"작품에 대한 설명을 입력해주세요.\"\n                      value={input.description}\n                      onChange={e => handleChange(e)}\n                    />\n                  </div>\n                </div>\n                <div className=\"col-md-12 col-sm-12\">\n                  <div className=\"text-center mt-20\">\n                    <button\n                      type=\"submit\"\n                      name=\"submit\"\n                      className=\"btn btn-xl btn-color btn-square remove-margin\"\n                      style={{ width: \"50%\" }}\n                    >\n                      수정하기\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n\n      <FooterOne />\n    </>\n  )\n}\n\nexport default ArtModify"]},"metadata":{},"sourceType":"module"}